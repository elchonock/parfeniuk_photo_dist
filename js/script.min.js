"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function e(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var o,r=e.HTMLElement||e.Element,n=468,l={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||c,scrollIntoView:r.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,i=(o=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==s(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):l.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=_typeof(arguments[0])?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(s(arguments[0])?l.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=_typeof(arguments[0])?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==s(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");l.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=_typeof(arguments[0])?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==s(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):l.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==s(arguments[0])){var o=function(e){for(;e!==t.body&&!1===(r=d(o=e,"Y")&&u(o,"Y"),n=d(o,"X")&&u(o,"X"),r||n);)e=e.parentNode||e.host;var o,r,n;return e}(this),r=o.getBoundingClientRect(),n=this.getBoundingClientRect();o!==t.body?(p.call(this,o,o.scrollLeft+n.left-r.left,o.scrollTop+n.top-r.top),"fixed"!==e.getComputedStyle(o).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}else l.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(e,t){this.scrollLeft=e,this.scrollTop=t}function s(e){if(null===e||"object"!=_typeof(e)||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==_typeof(e)&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(e,t){return"Y"===t?e.clientHeight+i<e.scrollHeight:"X"===t?e.clientWidth+i<e.scrollWidth:void 0}function u(t,o){var r=e.getComputedStyle(t,null)["overflow"+o];return"auto"===r||"scroll"===r}function f(t){var o,r,l,i,c=(a()-t.startTime)/n;i=c=c>1?1:c,o=.5*(1-Math.cos(Math.PI*i)),r=t.startX+(t.x-t.startX)*o,l=t.startY+(t.y-t.startY)*o,t.method.call(t.scrollable,r,l),r===t.x&&l===t.y||e.requestAnimationFrame(f.bind(e,t))}function p(o,r,n){var i,s,d,u,p=a();o===t.body?(i=e,s=e.scrollX||e.pageXOffset,d=e.scrollY||e.pageYOffset,u=l.scroll):(i=o,s=o.scrollLeft,d=o.scrollTop,u=c),f({scrollable:i,method:u,startTime:p,startX:s,startY:d,x:r,y:n})}}"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports={polyfill:e}:e()}(),document.addEventListener("DOMContentLoaded",(function(){var e,t,o={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()}};o.any()?document.body.classList.add("_touch"):document.body.classList.add("_pc"),e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";var r=document.querySelectorAll(".to_top"),n=document.querySelector(".page");r.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),n.scrollTo({top:0,behavior:"smooth"})}))}));var l=document.querySelectorAll("[data-nav]"),a=document.querySelector("header");l.forEach((function(e){e.addEventListener("click",(function(e){var t;e.preventDefault(),(t=document.querySelector(e.target.getAttribute("data-nav")).getBoundingClientRect().top+n.scrollTop-a.offsetHeight)>n.scrollTop&&(t+=a.offsetHeight),n.scrollTo({top:t,behavior:"smooth"})}))})),function(){var e=1,t=document.querySelector(".wrapper"),o=document.querySelectorAll(".content_row_item"),r=document.querySelector(".prev"),n=document.querySelector(".next");n.style="-webkit-tap-highlight-color: transparent;",r.style="-webkit-tap-highlight-color: transparent;",o.forEach((function(e){return e.style="-webkit-tap-highlight-color: transparent;"}));var l=document.createElement("div");l.classList.add("popup_photo"),l.style="-webkit-tap-highlight-color: transparent;";var a=document.createElement("img"),i=document.createElement("div");i.classList.add("bigPhotoWrapper"),i.style="-webkit-tap-highlight-color: transparent;",a.style="-webkit-tap-highlight-color: transparent;";var c,s,d,u,f,p=document.createElement("div");function y(t){e+1<o.length?(a.setAttribute("src",o[e+1].getAttribute("data-photo")),e++,a.classList.toggle("fadeOne"),a.classList.toggle("fadeTwo")):(e=0,a.setAttribute("src",o[e].getAttribute("data-photo")),a.classList.toggle("fadeOne"),a.classList.toggle("fadeTwo")),i.style.left="0",i.style.top="0"}function m(t){e>0?(a.setAttribute("src",o[e-1].getAttribute("data-photo")),e--,a.classList.toggle("fadeOne"),a.classList.toggle("fadeTwo")):(e=o.length-1,a.setAttribute("src",o[e].getAttribute("data-photo")),a.classList.toggle("fadeOne"),a.classList.toggle("fadeTwo")),i.style.left="0",i.style.top="0"}p.classList.add("closeX"),p.style="-webkit-tap-highlight-color: transparent;",t.appendChild(l),l.appendChild(i),l.appendChild(r),l.appendChild(n),i.appendChild(a),i.appendChild(p),document.body.classList.contains("_touch")&&(r.classList.add("_mobile"),n.classList.add("_mobile"),p.classList.add("_mobile")),t.addEventListener("click",(function(t){t.target&&t.target.classList.contains("content_row_item")&&(t.preventDefault(),n.style.display="block",r.style.display="block",l.style.display="flex",l.style.overflow="hidden",c=t.target.getAttribute("data-photo"),a.setAttribute("src",c),a.classList.add("fadeOne"),o.forEach((function(t,o){c==t.getAttribute("data-photo")&&(e=o)}))),t.target&&t.target.matches("div.popup_photo")&&(l.style.display="none",l.style.overflow="",a.classList.remove("fadeTwo"))})),p.addEventListener("click",(function(){l.style.display="none",l.style.overflow="",a.classList.remove("fadeTwo")})),n.addEventListener("click",(function(e){y()})),r.addEventListener("click",(function(e){m()})),window.addEventListener("keydown",(function(e){"ArrowRight"==e.key&&"flex"==l.style.display?y():"ArrowLeft"==e.key&&"flex"==l.style.display&&m()})),a.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation(),s=e.changedTouches[0],u=s.pageX-s.target.offsetLeft,f=s.pageY-s.target.offsetTop})),a.addEventListener("touchmove",(function(e){if(1==e.targetTouches.length){var t=e.targetTouches[0];i.style.left=t.pageX-u+"px",Math.abs(t.pageY-f)>50&&(i.style.top=t.pageY-f+"px")}}),!1),a.addEventListener("touchend",(function(e){e.preventDefault(),e.stopPropagation(),d=e.changedTouches[0];var t=s.pageX-d.pageX,o=s.pageY-d.pageY;t>50?(i.style.left="-100%",i.style.opacity=0,setTimeout((function(){i.style.left="100%"}),300),setTimeout((function(){i.style.opacity=1}),500),setTimeout(y,750)):t<-50?(i.style.transition="all ease 0.3s 0s",i.style.left="100%",i.style.opacity=0,setTimeout((function(){i.style.left="-100%"}),300),setTimeout((function(){i.style.opacity=1}),500),setTimeout(m,750)):(i.style.transition="none",i.style.left="0"),(o>150||o<-150)&&(l.style.display="none",l.style.overflow="",a.classList.remove("fadeTwo")),i.style.top="0"}))}();var i=document.querySelector(".static_bg_photo_row_H4_text");n.addEventListener("scroll",(function e(){return Math.floor(i.getBoundingClientRect().top-document.documentElement.clientHeight<=-200)&&(i.classList.add("bloom"),i.style.opacity="1",n.removeEventListener("scroll",e)),!1}));var c=document.querySelectorAll(".content_row_item"),s=document.querySelector(".content_row");n.addEventListener("scroll",(function e(){return Math.floor(s.getBoundingClientRect().top-document.documentElement.clientHeight<=-100)&&(c.forEach((function(e,t){setTimeout((function(){e.classList.add("fadeOne")}),75*t)})),n.removeEventListener("scroll",e)),!1}));var d=document.querySelector(".burger"),u=document.querySelector(".menu_body");function f(){u.classList.toggle("_active"),d.classList.toggle("_active")}d.addEventListener("click",f),u.addEventListener("click",f);var p=document.querySelector(".social_media_panel"),y=document.querySelector("#top"),m=document.querySelector(".menu_body"),h=document.querySelector(".header_row");document.body.classList.contains("_touch")||(h.style.marginRight="".concat(h.offsetWidth-n.clientWidth,"px"));var v=0,g=function(){return n.scrollTop},b=function(){return y.classList.contains("hidden_head")};n.addEventListener("scroll",(function(){!b()&&g()>v&&g()>80?(document.documentElement.clientWidth<767&&p.classList.add("hidden_head"),y.classList.add("hidden_head"),m.classList.add("hidden_head")):b()&&g()<v&&(y.classList.remove("hidden_head"),p.classList.remove("hidden_head"),m.classList.remove("hidden_head")),v=g()}));var L=document.querySelectorAll("._popupForm");function _(e){"_popupForm"==e.target.getAttribute("data-popup")&&(e.preventDefault(),L.forEach((function(e){e.classList.add("_active")})))}document.querySelectorAll("[data-popup]").forEach((function(e){e.addEventListener("click",_)}));var w=document.querySelectorAll(".file__preview");L.forEach((function(e){e.addEventListener("click",(function(t){(t.target&&t.target.classList.contains("popup__window")&&e.classList.contains("_active")||t.target&&t.target.classList.contains("closeForm")&&e.classList.contains("_active"))&&(e.classList.remove("_active"),w.forEach((function(e){return e.innerHTML=""})))}))})),window.addEventListener("keydown",(function(e){var t=document.querySelector(".popup_photo"),o=document.querySelector(".bigPhotoWrapper img");"Escape"==e.key&&(L.forEach((function(e){return e.classList.remove("_active")})),w.forEach((function(e){return e.innerHTML=""})),t.style.display="none",t.style.overflow="",o.classList.remove("fadeTwo"))}));var A=document.querySelectorAll("form"),E=document.querySelector(".status__success"),S=document.querySelector(".status__failure"),T=document.querySelector(".popup__status"),q=document.querySelectorAll('[name="reference"]');T.addEventListener("click",(function(e){e.target.classList.contains("popup__status")&&T.classList.remove("_active")}));var k="../img/spinner.svg";A.forEach((function(e){var t;(t=e).addEventListener("submit",(function(e){e.preventDefault();var o=document.createElement("img");o.src=k,o.style.cssText="\n                display: block;\n                margin: 0 auto;\n                ";var r=function(e){var t=0;return e.querySelectorAll("._req").forEach((function(e,o){!function(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}(e),"email"===e.getAttribute("name")?function(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}(e)&&(B(e),t++):("checkbox"===e.getAttribute("type")&&!1===e.checked||""===e.value)&&(B(e),t++)})),t}(t),n=new FormData(t),l=n.get("reference"),a=new FileReader;a.readAsArrayBuffer(l),0===r&&(t.append(o),a.onload=function(e){var t=new URLSearchParams({filename:l.name,mimeType:l.type});fetch("".concat("https://script.google.com/macros/s/AKfycbw7q1hq38GVtseUZPH2J8B3c4UAnuJK-DQRGx4QIfYTzdjEiwqBhf_ItrV_fRGX3FHw/exec","?").concat(t),{method:"POST",body:JSON.stringify(_toConsumableArray(new Int8Array(e.target.result))),mode:"no-cors"}).then((function(){i.innerHTML=""})).catch((function(e){return console.log(e)}))},fetch("https://script.google.com/macros/s/AKfycbyKUbVsTFdGXejgm71mlV-AoSwCvJivHFvk8EDQPqfNJ_up8lHg-lsmTnwq423oEFyq/exec",{method:"POST",body:n,mode:"no-cors"}).then((function(){T.classList.remove("_active"),T.classList.add("_active"),E.classList.add("_active"),i.innerHTML="",t.reset()})).catch((function(){T.classList.remove("_active"),T.classList.add("_active"),S.classList.add("_active")})).finally((function(){t.reset(),i.innerHTML="",setTimeout((function(){T.classList.remove("_active")}),3e3),o.remove(),L.forEach((function(e){e.classList.remove("_active")}))})));var i=t.querySelector(".file__preview")}))})),q.forEach((function(e){e.addEventListener("change",(function(t){!function(e){var t=e.files[0];if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void(e.value="");if(t.size>10485760)return void alert("Файл должен быть меньше 10МБ.");var o=new FileReader;o.onload=function(t){e.parentElement.parentElement.querySelector(".file__preview").innerHTML='<img src="'.concat(t.target.result,'" alt="preview">')},o.onerror=function(e){alert("Что-то пошло не так...")},o.readAsDataURL(t)}(e)}))}));function B(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}}));